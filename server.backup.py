#!/usr/bin/env python	
def getPluginInfo():
	return [{'allPlugins': ['General Options'], 'plugins': [{'ShortDesc': 'General Options', 'categ': 'General', 'isEnabled': False, 'Name': 'core', 'LongDesc': 'General compiz options'}]}, {'allPlugins': ['Zoom Desktop', 'Enhanced Zoom Desktop', 'Opacify', 'Negative', 'ADD Helper', 'Color filter'], 'plugins': [{'ShortDesc': 'Zoom Desktop', 'categ': 'Accessibility', 'isEnabled': False, 'Name': 'zoom', 'LongDesc': 'Zoom and pan desktop cube'}, {'ShortDesc': 'Enhanced Zoom Desktop', 'categ': 'Accessibility', 'isEnabled': True, 'Name': 'ezoom', 'LongDesc': 'Enhanced zoom functions for visually imparied and others'}, {'ShortDesc': 'Opacify', 'categ': 'Accessibility', 'isEnabled': False, 'Name': 'opacify', 'LongDesc': 'Make windows easily visible by hovering the mouse over them'}, {'ShortDesc': 'Negative', 'categ': 'Accessibility', 'isEnabled': False, 'Name': 'neg', 'LongDesc': 'Used to set a window or screen negative'}, {'ShortDesc': 'ADD Helper', 'categ': 'Accessibility', 'isEnabled': False, 'Name': 'addhelper', 'LongDesc': 'Make it slightly easier to concentrate by dimming all but the active window.'}, {'ShortDesc': 'Color filter', 'categ': 'Accessibility', 'isEnabled': False, 'Name': 'colorfilter', 'LongDesc': 'Filter colors for accessibility purposes'}]}, {'allPlugins': ['Clone Output', 'Desktop Cube', 'Rotate Cube', 'Desktop Wall', 'Viewport Switcher', 'Widget Layer', 'Fade to Desktop', 'Expo', 'Show desktop', 'Desktop Plane', 'Mouse switch'], 'plugins': [{'ShortDesc': 'Clone Output', 'categ': 'Desktop', 'isEnabled': False, 'Name': 'clone', 'LongDesc': 'Output clone handler'}, {'ShortDesc': 'Desktop Cube', 'categ': 'Desktop', 'isEnabled': True, 'Name': 'cube', 'LongDesc': 'Place windows on cube'}, {'ShortDesc': 'Rotate Cube', 'categ': 'Desktop', 'isEnabled': True, 'Name': 'rotate', 'LongDesc': 'Rotate desktop cube'}, {'ShortDesc': 'Desktop Wall', 'categ': 'Desktop', 'isEnabled': False, 'Name': 'wall', 'LongDesc': 'Desktop Wall Plugin'}, {'ShortDesc': 'Viewport Switcher', 'categ': 'Desktop', 'isEnabled': False, 'Name': 'vpswitch', 'LongDesc': 'Initiate viewport changes through several events'}, {'ShortDesc': 'Widget Layer', 'categ': 'Desktop', 'isEnabled': False, 'Name': 'widget', 'LongDesc': 'Show widget windows on a separate layer'}, {'ShortDesc': 'Fade to Desktop', 'categ': 'Desktop', 'isEnabled': False, 'Name': 'fadedesktop', 'LongDesc': 'Easily access your desktop'}, {'ShortDesc': 'Expo', 'categ': 'Desktop', 'isEnabled': False, 'Name': 'expo', 'LongDesc': 'Expo Plugin'}, {'ShortDesc': 'Show desktop', 'categ': 'Desktop', 'isEnabled': True, 'Name': 'showdesktop', 'LongDesc': 'Access your desktop easily'}, {'ShortDesc': 'Desktop Plane', 'categ': 'Desktop', 'isEnabled': False, 'Name': 'plane', 'LongDesc': 'Place windows on a plane'}, {'ShortDesc': 'Mouse switch', 'categ': 'Desktop', 'isEnabled': False, 'Name': 'mswitch', 'LongDesc': 'Switch viewport in response to mouse gesture'}]}, {'allPlugins': ['Maze', 'Cube Snow Globe', 'Cube Atlantis', 'Animations', 'Trailfocus', 'Window Decoration', 'Reflection', 'Minimize Effect', 'Motion blur', 'Wobbly Windows', 'Paint fire on the screen', 'Cube Gears', 'Water Effect', 'Blur Windows', 'Fading Windows', 'Cube Reflection'], 'plugins': [{'ShortDesc': 'Maze', 'categ': 'Effects', 'isEnabled': False, 'Name': 'maze', 'LongDesc': 'Render a maze inside of the transparent cube'}, {'ShortDesc': 'Cube Snow Globe', 'categ': 'Effects', 'isEnabled': False, 'Name': 'snowglobe', 'LongDesc': 'Render snow falling inside of the transparent cube'}, {'ShortDesc': 'Cube Atlantis', 'categ': 'Effects', 'isEnabled': False, 'Name': 'atlantis', 'LongDesc': 'Render some sea animals inside of the transparent cube'}, {'ShortDesc': 'Animations', 'categ': 'Effects', 'isEnabled': True, 'Name': 'animation', 'LongDesc': 'Use various animations as window effects'}, {'ShortDesc': 'Trailfocus', 'categ': 'Effects', 'isEnabled': False, 'Name': 'trailfocus', 'LongDesc': 'Adjust the opacity, saturation and brightness of windows based on when they last had focus.'}, {'ShortDesc': 'Window Decoration', 'categ': 'Effects', 'isEnabled': True, 'Name': 'decoration', 'LongDesc': 'Window decorations'}, {'ShortDesc': 'Reflection', 'categ': 'Effects', 'isEnabled': False, 'Name': 'reflex', 'LongDesc': 'Draws reflections'}, {'ShortDesc': 'Minimize Effect', 'categ': 'Effects', 'isEnabled': False, 'Name': 'minimize', 'LongDesc': 'Transform windows when they are minimized and unminimized'}, {'ShortDesc': 'Motion blur', 'categ': 'Effects', 'isEnabled': False, 'Name': 'mblur', 'LongDesc': 'Motion blur effect'}, {'ShortDesc': 'Wobbly Windows', 'categ': 'Effects', 'isEnabled': True, 'Name': 'wobbly', 'LongDesc': 'Use spring model for wobbly window effect'}, {'ShortDesc': 'Paint fire on the screen', 'categ': 'Effects', 'isEnabled': False, 'Name': 'firepaint', 'LongDesc': 'Paint fire or other particles on the screen'}, {'ShortDesc': 'Cube Gears', 'categ': 'Effects', 'isEnabled': False, 'Name': 'gears', 'LongDesc': 'Render gears inside of the transparent cube'}, {'ShortDesc': 'Water Effect', 'categ': 'Effects', 'isEnabled': True, 'Name': 'water', 'LongDesc': 'Adds water effects to different desktop actions'}, {'ShortDesc': 'Blur Windows', 'categ': 'Effects', 'isEnabled': False, 'Name': 'blur', 'LongDesc': 'Blur windows'}, {'ShortDesc': 'Fading Windows', 'categ': 'Effects', 'isEnabled': False, 'Name': 'fade', 'LongDesc': 'Fade in windows when mapped and fade out windows when unmapped'}, {'ShortDesc': 'Cube Reflection', 'categ': 'Effects', 'isEnabled': False, 'Name': 'cubereflex', 'LongDesc': 'Compiz cube reflection'}]}, {'allPlugins': ['Stars', 'Window Previews', 'Color Opacity', 'Benchmark', 'Annotate', 'Snow', 'Splash', 'Screenshot'], 'plugins': [{'ShortDesc': 'Stars', 'categ': 'Extras', 'isEnabled': False, 'Name': 'star', 'LongDesc': 'Stars for Compiz'}, {'ShortDesc': 'Window Previews', 'categ': 'Extras', 'isEnabled': False, 'Name': 'thumbnail', 'LongDesc': 'Window thumbnails at the taskbar'}, {'ShortDesc': 'Color Opacity', 'categ': 'Extras', 'isEnabled': False, 'Name': 'fakeargb', 'LongDesc': 'Alter window opacity based on color.'}, {'ShortDesc': 'Benchmark', 'categ': 'Extras', 'isEnabled': False, 'Name': 'bench', 'LongDesc': 'A simple benchmark plugin'}, {'ShortDesc': 'Annotate', 'categ': 'Extras', 'isEnabled': False, 'Name': 'annotate', 'LongDesc': 'Annotate plugin'}, {'ShortDesc': 'Snow', 'categ': 'Extras', 'isEnabled': False, 'Name': 'snow', 'LongDesc': 'Snow for Compiz'}, {'ShortDesc': 'Splash', 'categ': 'Extras', 'isEnabled': False, 'Name': 'splash', 'LongDesc': 'A simple splash plugin'}, {'ShortDesc': 'Screenshot', 'categ': 'Extras', 'isEnabled': True, 'Name': 'screenshot', 'LongDesc': 'Screenshot plugin'}]}, {'allPlugins': ['Svg', 'JPEG', 'Png', 'Text'], 'plugins': [{'ShortDesc': 'Svg', 'categ': 'Image Loading', 'isEnabled': True, 'Name': 'svg', 'LongDesc': 'Svg image loader'}, {'ShortDesc': 'JPEG', 'categ': 'Image Loading', 'isEnabled': True, 'Name': 'imgjpeg', 'LongDesc': 'JPEG image format plugin'}, {'ShortDesc': 'Png', 'categ': 'Image Loading', 'isEnabled': True, 'Name': 'png', 'LongDesc': 'Png image loader'}, {'ShortDesc': 'Text', 'categ': 'Image Loading', 'isEnabled': True, 'Name': 'text', 'LongDesc': 'Render text to texture'}]}, {'allPlugins': ['cubedbus', 'Resize Info', 'Dbus', 'Userspace File System', 'Video Playback', 'Mouse position polling', 'Scale Addons', 'Inotify', 'Cube Caps', 'Regex Matching', 'Workarounds', 'Scale Window Title Filter', 'Crash handler', 'GLib'], 'plugins': [{'ShortDesc': 'cubedbus', 'categ': 'Utility', 'isEnabled': False, 'Name': 'cubedbus', 'LongDesc': 'Allows other applications to draw inside cube using D-Bus'}, {'ShortDesc': 'Resize Info', 'categ': 'Utility', 'isEnabled': False, 'Name': 'resizeinfo', 'LongDesc': 'Display info on resize similar to metacity'}, {'ShortDesc': 'Dbus', 'categ': 'Utility', 'isEnabled': True, 'Name': 'dbus', 'LongDesc': 'Dbus Control Backend'}, {'ShortDesc': 'Userspace File System', 'categ': 'Utility', 'isEnabled': False, 'Name': 'fs', 'LongDesc': 'Userspace file system'}, {'ShortDesc': 'Video Playback', 'categ': 'Utility', 'isEnabled': False, 'Name': 'video', 'LongDesc': 'Video playback'}, {'ShortDesc': 'Mouse position polling', 'categ': 'Utility', 'isEnabled': False, 'Name': 'mousepoll', 'LongDesc': 'Updates the mouse pointer position from the xserver'}, {'ShortDesc': 'Scale Addons', 'categ': 'Utility', 'isEnabled': True, 'Name': 'scaleaddon', 'LongDesc': 'Some useful additions to the scale plugin'}, {'ShortDesc': 'Inotify', 'categ': 'Utility', 'isEnabled': False, 'Name': 'inotify', 'LongDesc': 'File change notification plugin'}, {'ShortDesc': 'Cube Caps', 'categ': 'Utility', 'isEnabled': True, 'Name': 'cubecaps', 'LongDesc': 'Render images on top and bottom of the cube'}, {'ShortDesc': 'Regex Matching', 'categ': 'Utility', 'isEnabled': True, 'Name': 'regex', 'LongDesc': 'Regex window matching'}, {'ShortDesc': 'Workarounds', 'categ': 'Utility', 'isEnabled': False, 'Name': 'workarounds', 'LongDesc': 'Metacity-like workarounds.'}, {'ShortDesc': 'Scale Window Title Filter', 'categ': 'Utility', 'isEnabled': False, 'Name': 'scalefilter', 'LongDesc': 'Window title filter facility for the scale plugin'}, {'ShortDesc': 'Crash handler', 'categ': 'Utility', 'isEnabled': True, 'Name': 'crashhandler', 'LongDesc': 'Compiz crash handler plugin'}, {'ShortDesc': 'GLib', 'categ': 'Utility', 'isEnabled': False, 'Name': 'glib', 'LongDesc': 'GLib main loop support'}]}, {'allPlugins': ['Create miniwindows', 'Resize Window', 'Snapping Windows', 'Shift Switcher', 'Window Rules', 'Extra WM Actions', 'Scale', 'Application Switcher', 'Group and Tab Windows', 'Place Windows', 'Tile', 'Move Window', 'Put', 'Ring Switcher'], 'plugins': [{'ShortDesc': 'Create miniwindows', 'categ': 'Window Management', 'isEnabled': False, 'Name': 'shelf', 'LongDesc': 'Visually scales a window down to allow easy monitoring without true/traditional resizing.  '}, {'ShortDesc': 'Resize Window', 'categ': 'Window Management', 'isEnabled': True, 'Name': 'resize', 'LongDesc': 'Resize window'}, {'ShortDesc': 'Snapping Windows', 'categ': 'Window Management', 'isEnabled': False, 'Name': 'snap', 'LongDesc': 'Enables windows edges resistance'}, {'ShortDesc': 'Shift Switcher', 'categ': 'Window Management', 'isEnabled': True, 'Name': 'shift', 'LongDesc': 'Shift Switcher Plugin'}, {'ShortDesc': 'Window Rules', 'categ': 'Window Management', 'isEnabled': True, 'Name': 'winrules', 'LongDesc': 'Set windows rules'}, {'ShortDesc': 'Extra WM Actions', 'categ': 'Window Management', 'isEnabled': True, 'Name': 'extrawm', 'LongDesc': 'Provides less commonly used WM actions'}, {'ShortDesc': 'Scale', 'categ': 'Window Management', 'isEnabled': True, 'Name': 'scale', 'LongDesc': 'Scale windows'}, {'ShortDesc': 'Application Switcher', 'categ': 'Window Management', 'isEnabled': True, 'Name': 'switcher', 'LongDesc': 'Application Switcher'}, {'ShortDesc': 'Group and Tab Windows', 'categ': 'Window Management', 'isEnabled': False, 'Name': 'group', 'LongDesc': 'With this plugin you can group and tab windows'}, {'ShortDesc': 'Place Windows', 'categ': 'Window Management', 'isEnabled': True, 'Name': 'place', 'LongDesc': 'Place windows at appropriate positions when mapped'}, {'ShortDesc': 'Tile', 'categ': 'Window Management', 'isEnabled': True, 'Name': 'tile', 'LongDesc': 'Tile windows'}, {'ShortDesc': 'Move Window', 'categ': 'Window Management', 'isEnabled': True, 'Name': 'move', 'LongDesc': 'Move window'}, {'ShortDesc': 'Put', 'categ': 'Window Management', 'isEnabled': False, 'Name': 'put', 'LongDesc': 'Put window'}, {'ShortDesc': 'Ring Switcher', 'categ': 'Window Management', 'isEnabled': True, 'Name': 'ring', 'LongDesc': 'Ring Switcher'}]}, {'allPlugins': ['Anaglyph', 'Enhanced Resize', 'Freewins', 'bouge'], 'plugins': [{'ShortDesc': 'Anaglyph', 'categ': '', 'isEnabled': False, 'Name': 'anaglyph', 'LongDesc': 'Anaglyph window and Desktop'}, {'ShortDesc': 'Enhanced Resize', 'categ': '', 'isEnabled': False, 'Name': 'eresize', 'LongDesc': 'Enhanced Resize'}, {'ShortDesc': 'Freewins', 'categ': '', 'isEnabled': False, 'Name': 'freewins', 'LongDesc': 'Freely rotate windows'}, {'ShortDesc': 'bouge', 'categ': '', 'isEnabled': False, 'Name': 'bouge', 'LongDesc': 'bouge'}]}]

	
def getCategInfo():
	return [{'': 9, 'Window Management': 8, 'activePlugins': ['resize', 'shift', 'dbus', 'decoration', 'winrules', 'svg', 'imgjpeg', 'ezoom', 'wobbly', 'regex', 'extrawm', 'water', 'png', 'showdesktop', 'text', 'crashhandler', 'place', 'screenshot', 'tile', 'move', 'ring', 'animation', 'cube', 'rotate', 'cubecaps', 'scale', 'switcher', 'scaleaddon'], 'Accessibility': 2, 'Desktop': 3, 'allGroups': ['General', 'Accessibility', 'Desktop', 'Effects', 'Extras', 'Image Loading', 'Utility', 'Window Management', ''], 'Extras': 5, 'Effects': 4, 'General': 1, 'Image Loading': 6, 'Utility': 7}]

def enableDisablePlugin(plugin, status) :
	print plugin
	print status
	print "\n\n"
#	if context.Plugins[plugin[0]].Enabled != status:
#		return "wrongStatus"
#	else:
#		if status == True:
#			context.Plugins[plugin[0]].Enabled = False
#			return context.Plugins[plugin[0]].Enabled
#		else:
#			context.Plugins[plugin[0]].Enabled = True
#			return context.Plugins[plugin[0]].Enabled

services = {
	'getPluginInfo': getPluginInfo,
	'getCategInfo': getCategInfo,
	'enableDisablePlugin' : enableDisablePlugin 
}
    
if __name__ == '__main__':
    from pyamf.remoting.wsgigateway import WSGIGateway
    from wsgiref import simple_server

    gw = WSGIGateway(services)

    httpd = simple_server.WSGIServer(
        ('localhost', 8000),
        simple_server.WSGIRequestHandler,
    )

    httpd.set_app(gw)

    print "Running Hello World AMF gateway on http://localhost:8000"

    httpd.serve_forever()

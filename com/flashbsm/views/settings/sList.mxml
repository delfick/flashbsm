<?xml version="1.0" encoding="utf-8"?>
<mx:VBox
	xmlns:mx="http://www.adobe.com/2006/mxml"
	width="100%" height="{totalRow*30 + 30}"
	creationComplete="initApp()">
	<mx:Script>
		<![CDATA[

			import mx.controls.CheckBox;
			import mx.containers.Canvas;
			import mx.collections.ArrayCollection;

			[Bindable]
			public var ShortDesc:String;

			[Bindable]
			public var info:*;

			[Bindable]
			public var infoName:ArrayCollection = new ArrayCollection;

			[Bindable]
			public var totalNum:Number;

			[Bindable]
			public var totalCol:Number = 3;

			[Bindable]
			public var totalRow:Number= 1;

			public function initApp():void
			{

				if (info[0] == "Int")
				{
					for (var nextObject:* in info[1][2])
					{
						infoName.addItem(nextObject);
					}
					myViewStack.selectedChild=theInt;
				}
			}

			public function getCBY(currentItem:*):Number
			{
				return Math.round(info[1][2][currentItem]/3)*30 + 10;
			}
			public function getCBX(currentItem:*):Number
			{
				//var currentRow:Number = Math.round(info[1][2][currentItem]/3);
				//var allBefore:Number = totalCol * (currentRow-1);
				var theIndex:Number = info[1][2][currentItem];
				trace(theIndex % totalCol);
				return (theIndex % totalCol) * 130 +10
				//return (theIndex - allBefore - 2)*130 + 10;
			}
		]]>
	</mx:Script>


	<mx:Label text="{ShortDesc}"/>

	<mx:ViewStack id="myViewStack" borderStyle="solid" width="70%" height="100%">

		<mx:Canvas id="theDefault" >
			<mx:Label text="hello"/>
			</mx:Canvas>

			<mx:Canvas id="theInt" backgroundColor="#FFFFFF" backgroundAlpha="0.21"
				width="100%" height="{totalRow*30}">
				<mx:Repeater id="RList" dataProvider="{infoName}">
					<mx:CheckBox label="{RList.currentItem}" id="tcb"
						y="{getCBY(RList.currentItem)}"
						x="{getCBX(RList.currentItem)}"/>
				</mx:Repeater>

            </mx:Canvas>

            <mx:Canvas id="theString" backgroundColor="#CCFFFF" label="Customer Info" width="100%" height="100%">
            </mx:Canvas>
        </mx:ViewStack>
</mx:VBox>
